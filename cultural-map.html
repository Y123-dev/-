<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>云南民族文化地图</title>
    <script charset="utf-8" src="https://map.qq.com/api/js?v=2.exp&key=WIIBZ-RY6LZ-EOBXL-ZICSL-723DK-C4FQY"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
        }

        header h1 {
            color: #2c3e50;
            margin: 0 0 20px 0;
        }

        .nav-btn {
            margin: 0 10px;
            text-decoration: none;
            color: #2c3e50;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .nav-btn:hover {
            background-color: #eee;
        }

        #map-container {
            width: 100%;
            height: 70vh;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>云南民族文化地图</h1>
            <nav>
                <a href="index.html" class="nav-btn">首页</a>
                <a href="features.html" class="nav-btn">文化特征</a>
                <a href="festivals.html" class="nav-btn">民俗节日</a>
                <a href="costumes.html" class="nav-btn">民族服饰</a>
                <a href="cultural-map.html" class="nav-btn">文化地图</a>
            </nav>
        </header>

        <div id="map-container"></div>
    </div>

    <script>
        // 添加景点数据
        var locations = [
            {
                position: new qq.maps.LatLng(25.0389, 102.7181),
                title: '云南民族村',
                content: '展示云南26个民族的传统文化和生活方式。',
                details: {
                    address: '云南省昆明市西山区民族村',
                    features: ['民族建筑', '民族表演', '民族美食', '民族工艺'],
                    openTime: '9:00-17:30',
                    description: '云南民族村是一个大型民族文化主题公园，集中展示云南26个民族的传统建筑、服饰、饮食、节庆等文化特色。'
                }
            },
            {
                position: new qq.maps.LatLng(25.8827, 100.2280),
                title: '大理古城',
                content: '展现白族传统文化和建筑艺术。',
                details: {
                    address: '云南省大理白族自治州大理市古城区',
                    features: ['白族建筑', '传统文化', '民族美食', '手工艺品'],
                    openTime: '全天开放',
                    description: '大理古城是白族文化的重要展示地，保存着典型的白族建筑风格和生活习俗。'
                }
            },
            {
                position: new qq.maps.LatLng(27.8290, 100.7220),
                title: '香格里拉藏文化馆',
                content: '展示藏族传统文化和艺术。',
                details: {
                    address: '云南省迪庆藏族自治州香格里拉市独克宗古城',
                    features: ['藏族文物', '唐卡艺术', '藏传佛教', '民族服饰'],
                    openTime: '9:00-17:00',
                    description: '这里收藏展示了大量藏族文物和艺术品，��了解藏族文化的重要场所。'
                }
            },
            {
                position: new qq.maps.LatLng(22.0025, 100.7971),
                title: '西双版纳傣族园',
                content: '展示傣族传统文化和生活习俗。',
                details: {
                    address: '云南省西双版纳傣族自治州景洪市',
                    features: ['傣族建筑', '泼水节表演', '傣族美食', '传统工艺'],
                    openTime: '8:30-18:00',
                    description: '这里完整保留了傣族传统的建筑风格和生活方式，是了解傣族文化的最佳去处。'
                }
            },
            {
                position: new qq.maps.LatLng(26.8768, 100.2301),
                title: '丽江古城',
                content: '纳西族传统文化的活态博物馆。',
                details: {
                    address: '云南省丽江市古城区',
                    features: ['纳西文化', '东巴文字', '古城建筑', '传统音乐'],
                    openTime: '全天开放',
                    description: '丽江古城是纳西族文化的重要载体，保存着完整的纳西族传统文化和建筑风格。'
                }
            },
            {
                position: new qq.maps.LatLng(23.3691, 103.3760),
                title: '红河哈尼梯田',
                content: '哈尼族梯田文化的杰出代表。',
                details: {
                    address: '云南省红河哈尼族彝族自治州元阳县',
                    features: ['梯田文化', '哈尼习俗', '传统农耕', '民族节日'],
                    openTime: '全天开放',
                    description: '元阳梯田是哈尼族人世代耕作的杰作，展现了哈尼族独特的农耕文化。'
                }
            },
            {
                position: new qq.maps.LatLng(24.4721, 98.5850),
                title: '德宏傣族文化园',
                content: '展示德宏傣族特色文化。',
                details: {
                    address: '云南省德宏傣族景颇族自治州瑞丽市',
                    features: ['傣族建筑', '佛教文化', '傣族服饰', '民族美食'],
                    openTime: '9:00-17:00',
                    description: '这里展示了德宏傣族独特的文化特色和生活习俗。'
                }
            },
            {
                position: new qq.maps.LatLng(25.5916, 100.2390),
                title: '崇圣寺三塔',
                content: '白族建筑艺术的典范。',
                details: {
                    address: '云南��大理白族自治州大理市古城区',
                    features: ['佛教建筑', '白族文化', '古代建筑', '宗教艺术'],
                    openTime: '8:00-18:00',
                    description: '崇圣寺三塔是大理白族建筑艺术的代表作，展现了白族的建筑智慧。'
                }
            },
            {
                position: new qq.maps.LatLng(23.6124, 102.8234),
                title: '彝族火把节广场',
                content: '彝族重要节日活动场所。',
                details: {
                    address: '云南省红河哈尼族彝族自治州建水县',
                    features: ['火把节', '彝族歌舞', '传统仪式', '民族美食'],
                    openTime: '全天开放',
                    description: '这里是彝族火把节的主要庆祝场所，每年都会举行盛大的庆典活动。'
                }
            },
            {
                position: new qq.maps.LatLng(24.8801, 102.8329),
                title: '石林彝族文化园',
                content: '展示撒尼彝族文化特色。',
                details: {
                    address: '云南省昆明市石林彝族自治县',
                    features: ['彝族文化', '阿诗玛文化', '民族歌舞', '传统手工艺'],
                    openTime: '8:30-17:30',
                    description: '这里展示了撒尼彝族独特的文化传统和艺术特色。'
                }
            },
            {
                position: new qq.maps.LatLng(26.5724, 99.9283),
                title: '玉龙雪山纳西族文化园',
                content: '纳西族传统文化展示基地。',
                details: {
                    address: '云南省丽江市玉龙纳西族自治县',
                    features: ['东巴文化', '纳西音乐', '传统仪式', '民族服饰'],
                    openTime: '8:00-17:00',
                    description: '在雪山脚下展示纳西族独特的东巴文化和传统习俗。'
                }
            },
            {
                position: new qq.maps.LatLng(25.1234, 101.5267),
                title: '楚雄彝族文化园',
                content: '展示彝族历史文化。',
                details: {
                    address: '云南省楚雄彝族自治州楚雄市',
                    features: ['彝族历史', '传统习俗', '民族工艺', '彝族医药'],
                    openTime: '9:00-17:00',
                    description: '全面展示彝族的历史文化发展和传统习俗。'
                }
            },
            {
                position: new qq.maps.LatLng(23.8898, 100.0923),
                title: '普洱茶文化园',
                content: '展示傣族、哈尼族茶文化。',
                details: {
                    address: '云南省普洱市思茅区',
                    features: ['茶文化', '民族习俗', '制茶工艺', '茶道表演'],
                    openTime: '8:30-17:30',
                    description: '展示云南少数民族独特的茶文化传统。'
                }
            },
            {
                position: new qq.maps.LatLng(24.9927, 101.4673),
                title: '易门彝族文化馆',
                content: '展示彝族传统文化。',
                details: {
                    address: '云南省玉溪市易门县',
                    features: ['彝族文物', '传统习俗', '民族乐器', '彝族服饰'],
                    openTime: '9:00-16:30',
                    description: '系统展示彝族的物质文化遗产和非物质文化遗产。'
                }
            },
            {
                position: new qq.maps.LatLng(22.5850, 101.0672),
                title: '澜沧拉祜族文化园',
                content: '展示拉祜族特色文化。',
                details: {
                    address: '云南省普洱市澜沧拉祜族自治州',
                    features: ['拉祜文化', '民��音乐', '传统节日', '手工艺品'],
                    openTime: '8:30-17:00',
                    description: '展示拉祜族独特的音乐文化和生活传统。'
                }
            }
        ];

        window.onload = function() {
            var center = new qq.maps.LatLng(25.0389, 102.7181);
            var map = new qq.maps.Map(document.getElementById('map-container'), {
                center: center,
                zoom: 7,
                minZoom: 6,
                maxZoom: 12,
                boundary: new qq.maps.LatLngBounds(
                    new qq.maps.LatLng(21.1000, 97.5000),
                    new qq.maps.LatLng(29.2000, 106.2000)
                )
            });

            // 创建自定义信息窗口
            var customInfoWindow = {
                div: document.createElement('div'),
                setContent: function(content) {
                    this.div.innerHTML = content;
                },
                open: function() {
                    this.div.style.display = 'block';
                },
                close: function() {
                    this.div.style.display = 'none';
                }
            };

            // 设置自定义信息窗口的样式
            customInfoWindow.div.style.cssText = `
                display: none;
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: white;
                border-radius: 10px;
                box-shadow: 0 2px 20px rgba(0,0,0,0.2);
                z-index: 1000;
                max-height: 80vh;
                overflow-y: auto;
            `;
            document.body.appendChild(customInfoWindow.div);

            // 为每个景点创建标记
            locations.forEach(function(loc) {
                var marker = new qq.maps.Marker({
                    position: loc.position,
                    map: map,
                    title: loc.title
                });

                // 添加点击事件监听器
                qq.maps.event.addListener(marker, 'click', function() {
                    var features = loc.details.features.map(function(feature) {
                        return '<li>' + feature + '</li>';
                    }).join('');

                    var contentHTML = 
                        '<div style="padding:20px; max-width:400px; position:relative;">' +
                        '<button onclick="this.parentElement.parentElement.style.display=\'none\'" ' +
                        'style="position:absolute; right:10px; top:10px; border:none; background:none; cursor:pointer; font-size:20px;">×</button>' +
                        '<h3 style="margin:0 0 10px 0; color:#2c3e50;">' + loc.title + '</h3>' +
                        '<p style="margin:0 0 10px 0; color:#666;">' + loc.content + '</p>' +
                        '<div style="border-top:1px solid #eee; padding-top:10px;">' +
                        '<p><strong>地址：</strong>' + loc.details.address + '</p>' +
                        '<p><strong>开放时间：</strong>' + loc.details.openTime + '</p>' +
                        '<p><strong>特色亮点：</strong></p>' +
                        '<ul style="margin:5px 0; padding-left:20px;">' + features + '</ul>' +
                        '<p><strong>详细介绍：</strong></p>' +
                        '<p style="margin:5px 0;">' + loc.details.description + '</p>' +
                        '</div>' +
                        '</div>';

                    customInfoWindow.setContent(contentHTML);
                    customInfoWindow.open();
                });
            });

            // 点击地图时关闭信息窗口
            qq.maps.event.addListener(map, 'click', function() {
                customInfoWindow.close();
            });

            // 点击ESC键关闭信息窗口
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    customInfoWindow.close();
                }
            });
        }
    </script>
</body>
</html> 